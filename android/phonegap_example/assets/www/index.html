<!DOCTYPE HTML>
<html>
<head>
<meta name="viewport"
	content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>测试应用</title>

<link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.1.1.min.css"
	type="text/css" />
<!-- <link rel="stylesheet" href="jquery.mobile/greens3.min.css" /> -->
<!-- <link rel="stylesheet" href="jquery.mobile/jquery.mobile.structure-1.1.1.min.css" type="text/css"/> -->
<link rel="stylesheet" href="jquery.mobile/jqm-docs.css" type="text/css" />
<link rel="stylesheet" href="powerapp.custom.css" type="text/css" />
<link rel="stylesheet" type="text/css" rel="stylesheet"
	href="openid/css/openid.css" />

<script type="text/javascript"
	src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="jquery.mobile/jquery-1.7.1.min.js"></script>
<script type="text/javascript">
	$(document).bind("mobileinit", function() {
		$.mobile.defaultDialogTransition = "none";
		$.mobile.defaultPageTransition = "none";
	});
</script>
<script src="jquery.mobile/jquery.mobile-1.1.1.min.js"></script>
<script src="js/jquery.raty.min.js"></script>
<style media="all" type="text/css">
.noclear {
	float: left;
	clear: none;
}
</style>
<script type="text/javascript" charset="utf-8" src="cordova-1.8.1.js"></script>
<script type="text/javascript" charset="utf-8" src="childbrowser.js"></script>
<script type="text/javascript" charset="utf-8" src="barcodescanner.js"></script>
<!-- <script type="text/javascript" src="jump-map-plugin/jump.js"></script>
    <script type="text/javascript" src="jump-map-plugin/services/jump.services.js"></script>
    <script type="text/javascript" src="jump-map-plugin/extensions/jump.extensions.js"></script> -->
<script type="text/javascript" src="jquery.ui.map.beta/jquery.ui.map.js"></script>
<script type="text/javascript"
	src="jquery.ui.map.beta/jquery.ui.map.extensions.js"></script>
<script type="text/javascript"
	src="jquery.ui.map.beta/jquery.ui.map.services.js"></script>

<script type="text/javascript" src="jquery.mobile/jquery.form.js"></script>
<script type="text/javascript" src="openid/openid-jquery.js"></script>
<script type="text/javascript" src="openid/openid-en.js"></script>

<script type="text/javascript" charset="utf-8" src="main.js"></script>
<script type="text/javascript" charset="utf-8" src="item.js"></script>
<script type="text/javascript" charset="utf-8" src="menu.js"></script>
<script type="text/javascript" charset="utf-8" src="login.js"></script>
<script type="text/javascript" charset="utf-8" src="edit.js"></script>
<script type="text/javascript" charset="utf-8" src="list.js"></script>
<script type="text/javascript" charset="utf-8" src="map.js"></script>
<!-- <script type="text/javascript" charset="utf-8" src="accountlist.js"></script> -->
</head>

<body onload="init();">

	<div data-role="page" id="page-item" data-theme="b">
		<div data-role="header" data-theme="b">
			<h1>
				测试 : <span class="ltgreen">扫描</span>
			</h1>
			<a href="#dialog-devmenu" data-rel="dialog" data-icon="grid"
				data-iconpos="notext" class="ui-btn-right" data-theme="b"></a>
		</div>
		<div data-role="content">

			<div class="ui-body-a ui-corner-all ui-shadow box-nice hidden"
				id="new-user">
				<p class="dkgreen">欢迎测试!</p>
				<p class="dkgreen">保存信息至服务器:</p>
				<a href="#page-login" data-role="button" data-theme="b">登录</a>
				登录后可以保存和分享数据

				<p class="dkgreen">本地操作:</p>
				<a href="#" data-role="button" data-theme="b" id="close-new-user">跳过登录</a>
				所有数据将保存在您的机器中

				<p>您可以点击右上角菜单按钮随时改变登录状态.</p>
			</div>

			<div class="hidden" id="scanarea">
				<a data-role="button" data-icon="star" data-theme="c" id="scan_btn">扫描</a>
				<div class="scandata">
					<!-- Successful scan required to save an item.<br/>	 -->
					<p>
						扫描状态: <span id="scanstatus">未启动</span><br /> 扫描值: <span
							class="smalltxt" id="itemscancode"></span><br /> 地址: <span
							class="smalltxt" id="itemlocation"></span><br /> 时间: <span
							class="smalltxt" id="itemtime"></span>
					</p>
					<br />
					<div id="star" class="noclear"></div>
					<span id="itemrating">未评级</span> <br /> <br /> <br />
					<textarea maxlength="64" placeholder="添加描述信息" id="itemcomment"></textarea>
					<br />
					<!-- <div data-role="controlgroup" data-type="horizontal"> -->
					<fieldset class="ui-grid-a">
						<div class="ui-block-a">
							<a id="savebtn" data-role="button" data-icon="plus">保存</a>
						</div>
						<div class="ui-block-b">
							<a id="clearfields" data-role="button" data-icon="delete">放弃</a>
						</div>
					</fieldset>
					<!-- </div> -->
				</div>
			</div>
			<!-- /scanarea div -->
			<span id="new_map_center" class="hidden"></span>
		</div>
		<!-- /content -->
		<div data-role="footer" data-theme="b" data-position="fixed"
			class="hidden">
			<div data-role="navbar">
				<ul>
					<li><a href="#page-item" data-icon="search">扫描</a></li>
					<li><a href="#page-list" data-icon="grid">列表</a></li>
					<li><a href="#page-map" data-icon="star">地图</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /footer -->
	</div>
	<!-- /page-item -->

	<div data-role="page" id="page-list" data-theme="b">
		<div data-role="header" data-theme="b">
			<a href="#page-item" data-icon="back" data-iconpos="notext"
				data-theme="b" data-rel="back"></a>
			<h1>
				测试应用 : <span class="ltgreen">列表</span>
			</h1>
			<a href="#dialog-devmenu" data-rel="dialog" data-icon="grid"
				data-iconpos="notext" class="ui-btn-right" data-theme="b"></a>
		</div>

		<div data-role="content">
			<div id="instr_list_container" data-role="collapsible" data-theme="b"
				data-content-theme="a">
				<h3>说明</h3>
				<!-- <span class="dkgreen">您的信息列表</span>
				<li>Tap list item to see it on map page</li>
				<li>Tap gear icon to edit or delete item</li>
				<li>Tap marker on map to pop up info window for that item</li> -->
				<ul>
					<li><img src="img/markers/bimage.png" height="17" width="10" />&nbsp;&nbsp您的信息</li>
					<li><img src="img/markers/gimage.png" height="17" width="10" />&nbsp;&nbsp;共享信息</li>
				</ul>
				<!-- <span class="dkgreen">共享信息列表</span>
				<li>Refresh shared list to update &#40;must Share to see
					other&#39;s shared items&#41;
				<li>Tap shared item to see it on map</li> -->
			</div>

			<div id="item_list_container" data-role="collapsible" data-theme="b"
				data-content-theme="b">
				<h2>
					<span id="item_cnt" class="dkgreen">0 信息</span> <span
						id="item_hint" class="grey">点击加号查看所有信息</span>
				</h2>
				<ul id="item_list" data-role="listview" data-inset="true"
					data-split-icon="gear" data-split-theme="c">
					<li id="li-placeholder" data-icon="false"><a href="#page-item"><span
							class="grey" style="line-height: 38px;">&#40;空 &#45;
								点击去扫描&#41;</span></a></li>
				</ul>
			</div>

			<a data-role="button" data-icon="refresh" data-theme="b"
				id="get_shared_list">刷新共享信息</a>
			<div id="shared_list_container" data-role="collapsible"
				class="hidden" data-theme="b" data-content-theme="b">
				<h2>
					<span id="shared_cnt" class="dkgreen"></span> <span id="share_hint"
						class="grey">点击显示在地图上</span>
				</h2>
				<ul id="shared_list" data-role="listview" data-inset="true"></ul>
			</div>

			<span id="new_map_center" class="hidden"></span>
		</div>
		<!-- /content -->

		<div data-role="footer" data-theme="b" data-position="fixed">
			<div data-role="navbar">
				<ul>
					<li><a href="#page-item" data-icon="search">扫描</a></li>
					<li><a href="#page-list" data-icon="grid">列表</a></li>
					<li><a href="#page-map" data-icon="star">地图</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /footer -->
	</div>
	<!-- /page-list -->

	<div data-role="page" id="page-map" data-theme="b">
		<div data-role="content" class="map-content">
			<div id="map_canvas"></div>

			<div id="controls" style="display: none;">
				<div data-role="controlgroup" data-theme="c">
					<a href="#page-list" data-rel="back" data-icon="back" data-role="button">返回</a>
					<div id="showminebtn" data-role="button">
						<img src="img/markers/bimage.png" height="17" width="10" />&nbsp;&nbsp;我的
					</div>
					<div id="showsharedbtn" data-role="button">
						<img src="img/markers/gimage.png" height="17" width="10" />&nbsp;&nbsp;共享
					</div>
				</div>
				<span id="mapcenter" class="hidden"></span>
			</div>
		</div>
		<!-- /content -->
	</div>
	<!-- /page-map -->

	<div data-role="page" id="dialog-edit" data-theme="b">
		<div data-role="header" data-theme="b">
			<h1>
				测试应用 : <span class="ltgreen">编辑</span>
			</h1>
		</div>

		<div data-role="content" data-theme="b">
			信息: <span class="dkgreen" id="editscancode"></span>
			<div class="scandata">
				<p>
					地点: <span class="smalltxt" id="edititemlocation"></span><br /> <span
						class="smalltxt" id="edititemtime"></span>
				</p>
			</div>
			<a data-role="button" id="edit_loc_time">获得新地点和时间</a> <br />
			<div id="editstar" class="noclear"></div>
			<span id="editrating"> 未评价</span> <br /> <br />
			<textarea maxlength="64" name="editcomment" id="editcomment"></textarea>
			<br />
			<div data-role="controlgroup" data-type="horizontal">
				<a href="#page-list" id="edit_delete" data-role="button"
					data-icon="delete">删除&nbsp;</a> <a href="#page-list"
					id="edit_cancel" data-role="button" data-icon="back">取消&nbsp;&nbsp;</a>
			</div>
			<a href="#page-list" id="edit_save" data-role="button"
				data-icon="check">保存修改</a>
		</div>
		<!-- /content -->
	</div>
	<!-- /dialog-edit -->

	<div data-role="page" id="page-login" data-theme="b">
		<div data-role="header" data-theme="b">
			<h1>
				测试应用 : <span class="ltgreen">登录</span>
			</h1>
			<a href="#dialog-devmenu" data-rel="dialog" data-icon="grid"
				data-iconpos="notext" class="ui-btn-right" data-theme="b"></a>
		</div>
		<div data-role="content" data-theme="b">
			<span class="dkgreen">注册</span>

			<!-- Simple OpenID Selector -->
			<!-- <form action="http://yourserver.com/openidAuth" method="get" id="openid_form">  -->
			<form action="http://10.136.238.174:8012/openidAuth" method="get"
				id="openid_form">
				<input type="hidden" name="action" value="verify" />
				<!-- <p>To register, use your gmail or google account login and
					password.</p> -->
				<fieldset>
					<div id="openid_choice">
						<p>点击图标登录:</p>
						<div id="openid_btns"></div>
					</div>
				</fieldset>
			</form>
			<!-- <p>After log in, user&#39;s item data is stored on the server.
				Users can change share settings to share data with other users.</p>
			<p>See Menu page for more about OpenID Secure Login and share
				settings.</p> -->
			<a href="#dialog-devmenu" data-rel="dialog" data-role="button"
				data-inline="true">更多关于测试应用</a> <span id="new_map_center"
				class="hidden"></span>
		</div>
		<!-- /content -->
		<div data-role="footer" data-theme="b" data-position="fixed">
			<div data-role="navbar">
				<ul>
					<li><a href="#page-item" data-icon="search">扫描</a></li>
					<li><a href="#page-list" data-icon="grid">列表</a></li>
					<li><a href="#page-map" data-icon="star">地图</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /footer -->
	</div>
	<!-- /page-login -->

	<div data-role="page" id="dialog-devmenu" data-theme="b">
		<div data-role="header" data-theme="b">
			<h1>
				测试应用 : <span class="ltgreen">菜单</span>
			</h1>
		</div>
		<div data-role="content" data-theme="c">

			<p>
				状态: <br /> <span class="username dkgreen">未登录</span><br>
			<div data-role="collapsible" class="allcollapse" id="devmenu-help"
				data-content-theme="a">
				<h3>帮助</h3>
				未完成
			</div>

			<div data-role="collapsible" class="allcollapse"
				data-content-theme="a">
				<h3>登录 / 注销</h3>
				<!-- <p>To login go to the Login Page.</p>
			<p><strong>Important:</strong> You must use your gmail or google account name to log in.</p> -->
				<a href="#page-login" data-role="button" class="goto_login"
					data-theme="b">登录</a>
				<!-- <p>Logging out is only necessary if others have access to your device.</p> -->
				<div id="logout" data-role="button" data-theme="b">注销</div>
				<!-- <p>When logged out, your data will be saved locally and is still available after device reboot
			or app stop/start.</p> -->
			</div>

			<div data-role="collapsible" id="share_set" class="allcollapse"
				data-content-theme="a">
				<h3>共享设置</h3>
				<p>
					当前 <span class="dkgreen" id="sharestatus">Not Sharing</span> 数据.
				</p>
				<div id="share_btn" data-role="button">共享</div>
				<!-- ><p>You must login and have network connection to share.
				Unshare at any time, even when logged in.</p>
			<p><span class="dkgreen">Share</span> Other users see your item data, but
			<strong>not your user name or email.</strong></p>
			<p><span class="dkgreen">UnShare</span> All your items are unshared, no other users can see them.</p> --
		</div>    

    <div data-role="collapsible" class="allcollapse" data-content-theme="a">
			<h3>导航 / 首页</h3>		
			
			<!-- <b>Swipe to change pages:</b><br/>
			<span id="dkgreen"> Item Page &gt; List Page &gt; Map</span><br/><br/> -->

				<!-- <b>Menu Button</b> &#47; <b>Grid Icon:</b><br/> This Menu Dialog<br/>

			<p><b>Home Page:</b> Default on launch</p>

			<label for="select-home-page" class="select">Set Home Page:</label> -->
				<select name="select-home-page" id="select-home-page">
					<option value="page-item" data-icon="scan">扫描</option>
					<option value="page-list" data-icon="grid">列表</option>
					<option value="page-map" data-icon="star">地图</option>
				</select>
				<hr>
				<div data-role="button" id="go_to_homepage" data-theme="b">首页</div>
				<br />
			</div>

			<!-- <div data-role="collapsible" class="allcollapse" data-content-theme="a">
			<h3>Local Data</h3>
			<p>Clear all locally stored data.</p>
			<p><strong>Note:</strong> For development only.</p>
			<div data-role="button" id="clear_dev_data" data-theme="b">Clear All Data</div>
		</div> -->

			<div data-role="collapsible" class="allcollapse"
				data-content-theme="a">
				<h3>关于登录</h3>
				<!-- <p>OpenID is a service that allows you to log-on to many different websites using a single identity.</p>
			<p>Neither PowerApp nor the server see your password during authentication.</p>
			<p>Find out <a href="http://openid.net/what/">more about OpenID</a> and <a href="http://openid.net/get/">how to get an OpenID enabled account</a>.</p> -->
			</div>

			<div data-role="collapsible" class="allcollapse"
				data-content-theme="a">
				<h3>关于应用</h3>

				<p style="margin-top: 0.4em; margin-bottom: 0em;">基于以下技术.</p>
				<ul
					style="line-height: 1.4em; margin-bottom: 0.3em; margin-top: 0.2em;">
					<li><a href="http://www.phonegap.com/">PhoneGap</a></li>
					<li><a href="http://www.jquerymobile.com/">jQuery Mobile
							Frameworks</a></li>
				</ul>
			</div>
			<a href="#" data-role="button" data-inline="true" data-rel="back">关闭&nbsp;</a>
		</div>
		<!-- /content -->
	</div>
	<!-- /dialog-devmenu -->
</body>
</html>
